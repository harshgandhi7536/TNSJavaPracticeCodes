<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Player</title>
<style>

    body{
        background-color: black;
        
    }
    .image{
        width: 19rem;
        height: 19rem;
        margin-top: 30px;
        background-color: aquamarine;
        border: 4px solid rebeccapurple;
        margin-left: 33rem;

    }

     img {
        width: 100%;
        height: 100%;
        object-fit: cover;   /* fills the box, crops excess */
        /* or try:
            object-fit: contain;  keeps full image with gaps
            object-fit: fill;     stretches image
        */  
    }

    .Player{
        height: 150px;
        width: 150px;
    }

    .bottombox{
            height: 7rem;
            width: 86.25em;
            background-color: rgb(45, 36, 36);
            margin-top: 2.7rem;
            display: flex;
            flex-direction: row;
        }

    .smallerimg{
            padding-top: 12px;
            padding-left: 14px;
            height: 5rem;
            width: 8.5rem;
            object-fit: cover;
        }
        .controllerbox{
            margin-left: 23rem;
            display: flex;
            width: 400px;
            display: flex;
            flex-direction: column;
        }

        button{
            padding-top: 20px;
            padding: 0.4rem;
            margin: 1rem;
            height: 2rem;
            width: 2rem;
        }
        
        .box1{
            display: flex;
            flex-direction: row;
            margin-left: 70px;
        }

        .timeline {
            width: 80%;
            height: 6px;
            background: rgb(90, 84, 84);
            border-radius: 5px;
            margin: 20px auto;
            position: relative;
            }

            .progress {
            width: 30%; 
            height: 100%;
            background: white;
            border-radius: 5px;
            }

            .dot {
            width: 14px;
            height: 14px;
            background: white;
            border-radius: 50%;
            position: absolute;
            top: 50%;
            left: 30%;          /* matches progress */
            transform: translate(-50%, -50%);
            }

            label{
                color: white;
            }

            .box2{
                display: flex;
                flex-direction: row;
            }

            .repMin{
                height: 30px;
                width:30px;
                 object-fit: cover;
                 margin-top: 70px;
            }

            .volume{
                height: 30px;
                width:66px;
                object-fit: cover;
                margin-top: 70px;
                margin-left: 25px;
                margin-right: 25px;
            }

            .rightside{
                display: flex;
                flex-direction: row;
                padding-left: 275px;
            }
            .infobox{
                background-color: rgb(93, 125, 125);
                display: flex;
                flex-direction: column;
                height: 125px;
                padding-top: 25px;
                padding-left: 25px;
                margin-left: 34rem;
                margin-top: 40px;
                font: 1.5em sans-serif;
                font-size:medium;
                width: 230px;
                color: black;
            }

            .last{
                display: flex;
                flex-direction: column;
            }
    </style>
</head>

<body>
    <div class="last">
        <div class="image">
            <img src= "<%=song.imageurl %>" alt="Image" >       
        </div>

        <div class="infobox">
            
            <label ><b>Song: </b><%= song.songname %></label>
            <label ><b>Year: </b> <%= song.releasedin %></label>
            <label ><b>Movie: </b><%= song.moviename %></label>
            <label ><b>Duration: </b><%= song.totalminutes %></label>
        </div>
    </div>
    <div class="bottombox">
            
        <div class="smallerimg">
             <img src= "<%=song.imageurl %>" alt="Image" >
             <label ><b><%= song.songname %></b></label>

        </div>
           

        <div class="controllerbox">
            <audio  id="myaudio" src="/music/<%= song.songname%>.mp3"></audio>

            <div class="box1">
            <button >
                    <img src="/images/prev.webp" alt="Logo">
            </button>
             
            <button id="playBtn" label="Play">
             </button>   
            <button>
                    <img src="/images/next.png" alt="Logo">
                </button>
            </div>
          
          <div class="box2">
            <label >1:27</label>
            <div class="timeline">
                <div class="progress"></div>
                <div class="dot"></div>
            </div>
            <label ><%= song.totalminutes%></label>
          </div>
        </div>
        
        <div class="rightside">
            <img  class="repMin" src="/images/repeat.webp" alt="rep">
            <img  class="volume" src="/images/volume.webp" alt="Vol">
            <img class="repMin"  src="/images/minplayer.png" alt="miniPl">
        </div>

    </div>

    <script>
        const audio=document.getElementById("myaudio");

        document.getElementById("playBtn").addEventListener("click",()=>{
           /// console.log(" In audio button"); 
           ///  audio.play();
             if (audio.paused) {
                    audio.play();
                    playBtn.textContent = "⏸"; // change button label
          } else {
                     audio.pause();
                     playBtn.textContent = "▶"; // change button back
        }
        });

    </script>
</body>
</html>